@model Medium_Assignment.Models.OrganizationListViewModel

@{
    ViewBag.Title = "Index";
}

<h2>Organizations</h2>

<p>
    @Html.ActionLink("New Organization", "New", "Organization", null, new { @class = "btn btn-primary" })
</p>


<table id="Organizations" class="table table-bordered table-hover">
    <thead>
        <tr>
            <th scope="col">Name</th>
            <th scope="col">Phone Number</th>
            <th scope="col">Email</th>
            <th scope="col">User Name</th>
            <th scope="col">Address</th>
            <th scope="col">Country</th>
            <th scope="col">State</th>
            <th scope="col">City</th>
            <th scope="col">Status</th>
            <th scope="col">Description</th>
            <th scope="col">Actions</th>

        </tr>
    </thead>
    <tbody>

        @foreach (var organization in Model.Organizations)
        {
            <tr class="table-active">


                <td>@organization.Name</td>
                <td>@organization.PhoneNumber</td>
                <td>@organization.Email</td>
                <td>@organization.UserName</td>

                @if (!String.IsNullOrEmpty(organization.Address2))
                {
                    <td> @(organization.Address1 + ", " + organization.Address2)</td>
                }
                else
                {
                    <td> @(organization.Address1)</td>

                }

                <td>@organization.Country</td>
                <td>@organization.State</td>
                <td>@organization.City</td>
                <td>@organization.Status</td>
                <td>@organization.Description</td>
                <td>


                    <p>
                        @Html.ActionLink("Details", "Details", "Organization", new { Id = organization.Id }, new { @class = "btn btn-primary" })
                    </p>

                    <p>
                        @Html.ActionLink("Edit", "Edit", "Organization", new { Id = organization.Id }, new { @class = "btn btn-primary" })

                    </p>

                    <p>
                        @Html.ActionLink("Delete", "Delete", "Organization", new { Id = organization.Id }, new { @class = "btn btn-primary delete" })

                    </p>

                </td>


            </tr>

        }




    </tbody>
</table>

@Scripts.Render("~/bundles/lib")
@Scripts.Render("~/bundles/jqueryval")


<script>
    $(document).ready(function () {
        $("#Organizations").DataTable()
        $(".delete").click(function (event) {
            if (!confirm("Are you sure you want to delete this organization?")) {
                event.preventDefault()
            }
        });
    });
</script>